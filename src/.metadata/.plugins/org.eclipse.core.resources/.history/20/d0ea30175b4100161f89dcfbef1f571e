package application;

import java.util.AbstractMap.SimpleEntry;
import java.util.Map.Entry;
import javafx.application.Application;
import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.control.*;
import javafx.scene.effect.DropShadow;
import javafx.scene.effect.Effect;
import javafx.scene.effect.Glow;
import javafx.scene.effect.SepiaTone;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.VBox;
import javafx.scene.paint.Color;
import javafx.scene.text.Font;
import javafx.scene.text.TextAlignment;
import javafx.stage.Stage;
 
public class Main extends Application {
 
    final PageData[] pages = new PageData[] {
        new PageData("Apple",
            "The apple is the pomaceous fruit of the apple tree, species Malus "
            +"domestica in the rose family (Rosaceae). It is one of the most "
            +"widely cultivated tree fruits, and the most widely known of "
            +"the many members of genus Malus that are used by humans. "
            +"The tree originated in Western Asia, where its wild ancestor, "
            +"the Alma, is still found today.",
            "Malus domestica"),
        new PageData("Hawthorn",
            "The hawthorn is a large genus of shrubs and trees in the rose "
            + "family, Rosaceae, native to temperate regions of the Northern "
            + "Hemisphere in Europe, Asia and North America. "
            + "The name hawthorn was "
            + "originally applied to the species native to northern Europe, "
            + "especially the Common Hawthorn C. monogyna, and the unmodified "
            + "name is often so used in Britain and Ireland.",
            "Crataegus monogyna"),
        new PageData("Ivy",
            "The ivy is a flowering plant in the grape family (Vitaceae) native"
            +" to eastern Asia in Japan, Korea, and northern and eastern China."
            +" It is a deciduous woody vine growing to 30 m tall or more given "
            +"suitable support,  attaching itself by means of numerous small "
            +"branched tendrils tipped with sticky disks.",
            "Parthenocissus tricuspidata"),
        new PageData("Quince",
            "The quince is the sole member of the genus Cydonia and is native"
            +" to warm-temperate southwest Asia in the Caucasus region. The "
            +"immature fruit is green with dense grey-white pubescence, most "
            +"of which rubs off before maturity in late autumn when the fruit "
            +"changes color to yellow with hard, strongly perfumed flesh.",
            "Cydonia oblonga")
    };
 
    final String[] viewOptions = new String[] {
        "Title", 
        "Binomial name", 
        "Picture", 
        "Description"
    };
 
    final Entry<String, Effect>[] effects = new Entry[] {
        new SimpleEntry<String, Effect>("Sepia Tone", new SepiaTone()),
        new SimpleEntry<String, Effect>("Glow", new Glow()),
        new SimpleEntry<String, Effect>("Shadow", new DropShadow())
    };
 
    final ImageView pic = new ImageView();
    final Label name = new Label();
    final Label binName = new Label();
    final Label description = new Label();
 
    public static void main(String[] args) {
        launch(args);
    }
 
    @Override
    public void start(Stage stage) {
        stage.setTitle("CookieSCookout");
        Scene scene = new Scene(new VBox(), 400, 350);
        scene.setFill(Color.OLDLACE);
 
        name.setFont(new Font("Verdana Bold", 22));
        binName.setFont(new Font("Arial Italic", 10));
        pic.setFitHeight(150);
        pic.setPreserveRatio(true);
        description.setWrapText(true);
        description.setTextAlignment(TextAlignment.JUSTIFY);
 
        MenuBar menuBar = new MenuBar();
 
        final VBox vbox = new VBox();
        vbox.setAlignment(Pos.CENTER);
        vbox.setSpacing(10);
        vbox.setPadding(new Insets(0, 10, 0, 10));
        vbox.getChildren().addAll(name, binName, pic, description);
        
        // --- Menu Home
        Menu menuHome = new Menu("Home");
        menuHome.setOnAction(new EventHandler<ActionEvent>() {
            public void handle(ActionEvent t) {
            	String string = "Salut le monde !\n Portez ce vieux whisky au juge blond qui fume.\n The quick brown fox jumps over the lazy dog.\n Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum nec ante augue. Quisque congue ligula eget nisi consequat ornare. Ut finibus nibh quis interdum efficitur. Pellentesque varius vehicula arcu, ultricies hendrerit magna dictum sit amet. Praesent pharetra luctus quam, sed maximus turpis ornare id."; 
                final Color[] colors = {Color.BLACK, Color.BLUE, Color.RED, Color.GREEN, Color.GRAY, Color.CHOCOLATE}; 
                final String[] families = {"System", "Monospace", "Arial", "Lucida", "Blackadder ITC", "Broadway", "Castellar"}; 
                final int[] sizes = {8, 9, 10, 12, 16, 18, 22}; 
                final FontPosture[] postures = FontPosture.values(); 
                final FontWeight[] weights = FontWeight.values(); 
                final TextFlow textFlow = new TextFlow(); 
                textFlow.setTextAlignment(TextAlignment.JUSTIFY); 
                textFlow.setLineSpacing(-5); 
                final StackPane root = new StackPane(); 
                final String[] tokens = string.split(" +"); 
                for (String token : tokens) { 
                    final Text text = new Text(token); 
                    final Color color = colors[(int) (colors.length * Math.random())]; 
                    final int size = sizes[(int) (sizes.length * Math.random())]; 
                    final String family = families[(int) (families.length * Math.random())]; 
                    final FontPosture posture = postures[(int) (postures.length * Math.random())]; 
                    final FontWeight weight = weights[(int) (weights.length * Math.random())]; 
                    final Font font = Font.font(family, weight, posture, size); 
                    final boolean underline = Math.random() > 0.90; 
                    text.setFill(color); 
                    text.setFont(font); 
                    text.setUnderline(underline); 
                    textFlow.getChildren().add(text); 
                    if (!token.endsWith("\n")) { 
                        textFlow.getChildren().add(new Text(" ")); 
                    } 
                } 
            	
            }
        });        
 
        // --- Menu File
        Menu menuFile = new Menu("File");
        
        // --- Menu View
        Menu menuPlugin = new Menu("Plugin");
        
     // --- Menu Help
        Menu menuHelp = new Menu("Help");
        
        menuBar.getMenus().addAll(menuHome, menuFile, menuPlugin, menuHelp);
        ((VBox) scene.getRoot()).getChildren().addAll(menuBar, vbox);
        stage.setScene(scene);
        stage.show();
    }
 
    
    private class PageData {
        public String name;
        public String description;
        public String binNames;
        public Image image;
        public PageData(String name, String description, String binNames) {
            this.name = name;
            this.description = description;
            this.binNames = binNames;
            image = new Image(getClass().getResourceAsStream("./static/img/shuffle.png"));
        }
    }
} 
